<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>‡¶¶‡¶ø‡¶® ‡¶Æ‡ßÅ‡¶∏‡¶≤‡¶ø‡¶Æ</title>
    <!-- ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ì‡ßü‡ßá‡¶¨ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --tg-theme-bg-color: #f0f2f5; --tg-theme-text-color: #212529; --tg-theme-button-color: #007bff; --tg-theme-button-text-color: #ffffff; --card-bg-color: #ffffff; --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); }
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: var(--tg-theme-bg-color); color: var(--tg-theme-text-color); line-height: 1.5; }
        .app-container { padding: 20px; }
        .header { text-align: center; margin-bottom: 25px; }
        .header h1 { font-size: 28px; margin: 0; color: #333; }
        .header p { font-size: 16px; color: #6c757d; margin-top: 5px; }
        .card { background-color: var(--card-bg-color); border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: var(--card-shadow); }
        .card-title { font-size: 18px; font-weight: 600; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .prayer-times ul { list-style: none; padding: 0; margin: 0; }
        .prayer-times li { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #f1f1f1; }
        .prayer-times li:last-child { border-bottom: none; }
        .prayer-times .prayer-name { font-weight: 500; }
        .prayer-times .prayer-time { font-weight: 600; color: var(--tg-theme-button-color); }
        .daily-verse-card .verse-arabic { font-family: 'Amiri', serif; font-size: 22px; text-align: right; margin-bottom: 10px; }
        .daily-verse-card .verse-translation { font-size: 15px; font-style: italic; color: #555; }
        .footer { text-align: center; padding: 20px; font-size: 14px; color: #888; }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="app-container">
        <div class="header">
            <h1 id="greeting">‡¶Ü‡¶∏‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ‡ßÅ ‡¶Ü‡¶≤‡¶æ‡¶á‡¶ï‡ßÅ‡¶Æ</h1>
            <p id="date-today">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</p>
        </div>

        <div class="card prayer-times">
            <h2 class="card-title">üïã ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü‡¶∏‡ßÇ‡¶ö‡ßÄ (‡¶¢‡¶æ‡¶ï‡¶æ)</h2>
            <ul id="prayer-list">
                <li><span class="prayer-name">‡¶´‡¶ú‡¶∞</span> <span class="prayer-time">...</span></li>
                <li><span class="prayer-name">‡¶Ø‡ßã‡¶π‡¶∞</span> <span class="prayer-time">...</span></li>
                <li><span class="prayer-name">‡¶Ü‡¶∏‡¶∞</span> <span class="prayer-time">...</span></li>
                <li><span class="prayer-name">‡¶Æ‡¶æ‡¶ó‡¶∞‡¶ø‡¶¨</span> <span class="prayer-time">...</span></li>
                <li><span class="prayer-name">‡¶á‡¶∂‡¶æ</span> <span class="prayer-time">...</span></li>
            </ul>
        </div>

        <div class="card daily-verse-card">
            <h2 class="card-title">üìñ ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶Ü‡ßü‡¶æ‡¶§</h2>
            <p class="verse-arabic">ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸéŸëŸáŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖ</p>
            <p class="verse-translation">"‡¶™‡¶∞‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶£‡¶æ‡¶Æ‡ßü ‡¶Ö‡¶∏‡ßÄ‡¶Æ ‡¶¶‡ßü‡¶æ‡¶≤‡ßÅ ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶õ‡¶ø‡•§"</p>
        </div>
    </div>

    <div class="footer">
        ‡¶¶‡¶ø‡¶® ‡¶Æ‡ßÅ‡¶∏‡¶≤‡¶ø‡¶Æ ‡¶¨‡¶ü
    </div>

    <script>
        // ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®
        const tg = window.Telegram.WebApp;
        tg.expand(); // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶ü‡¶ø‡¶ï‡ßá ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®

        // ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶∑‡¶£ ‡¶ú‡¶æ‡¶®‡¶æ‡¶® (‡¶Ø‡¶¶‡¶ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü)
        if (tg.initDataUnsafe?.user?.first_name) {
            document.getElementById('greeting').textContent = `‡¶Ü‡¶∏‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ‡ßÅ ‡¶Ü‡¶≤‡¶æ‡¶á‡¶ï‡ßÅ‡¶Æ, ${tg.initDataUnsafe.user.first_name}!`;
        }

        // ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
        const today = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById('date-today').textContent = today.toLocaleDateString('bn-BD', options);

        // ‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
        async function fetchPrayerTimes() {
            try {
                const response = await fetch('https://api.aladhan.com/v1/timingsByCity?city=Dhaka&country=Bangladesh&method=1');
                const data = await response.json();
                const timings = data.data.timings;
                
                const prayerMapping = { 'Fajr': '‡¶´‡¶ú‡¶∞', 'Dhuhr': '‡¶Ø‡ßã‡¶π‡¶∞', 'Asr': '‡¶Ü‡¶∏‡¶∞', 'Maghrib': '‡¶Æ‡¶æ‡¶ó‡¶∞‡¶ø‡¶¨', 'Isha': '‡¶á‡¶∂‡¶æ' };
                const prayerList = document.getElementById('prayer-list');
                prayerList.innerHTML = ''; // ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®

                for (const [key, value] of Object.entries(prayerMapping)) {
                    const li = document.createElement('li');
                    li.innerHTML = `<span class="prayer-name">${value}</span> <span class="prayer-time">${timings[key]}</span>`;
                    prayerList.appendChild(li);
                }
            } catch (error) {
                console.error('Error fetching prayer times:', error);
                document.getElementById('prayer-list').innerHTML = '<li>‡¶®‡¶æ‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§</li>';
            }
        }

        fetchPrayerTimes();
    </script>
</body>
</html>
